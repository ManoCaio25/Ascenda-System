<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
 <link rel="stylesheet" href="/Login Ascenda/style.css">

    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Crect width='128' height='128' rx='28' fill='%230A0612'/%3E%3Ctext x='50%' y='50%' dominant-baseline='central' text-anchor='middle' font-size='88' fill='%23ffffff'%3E%F0%9F%9A%80%3C/text%3E%3C/svg%3E"
    />
    <title>Ascenda | Portal de Login</title>
  </head>

  <body>
    <div class="language-selector" role="group" aria-label="Selecionar idioma">
      <button
        type="button"
        class="lang-button"
        data-lang="pt"
        aria-label="PortuguÃªs"
      >
        <span aria-hidden="true">ðŸ‡§ðŸ‡·</span>
        <span class="sr-only">PortuguÃªs</span>
      </button>
      <button
        type="button"
        class="lang-button"
        data-lang="en"
        aria-label="English"
      >
        <span aria-hidden="true">ðŸ‡ºðŸ‡¸</span>
        <span class="sr-only">English</span>
      </button>
      <button
        type="button"
        class="lang-button"
        data-lang="es"
        aria-label="EspaÃ±ol"
      >
        <span aria-hidden="true">ðŸ‡ªðŸ‡¸</span>
        <span class="sr-only">EspaÃ±ol</span>
      </button>
    </div>
    <div class="container" id="container">
      <div class="form-container sign-up">
        <form id="mentorForm" autocomplete="on">
          <h1 id="mentorTitle" data-i18n="mentorTitle">Bem-vindo, Padrinho!</h1>
          <div class="social-icons">
            <a href="#" class="icon"
              ><i class="fa-brands fa-google-plus-g"></i
            ></a>
            <!-- <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
            <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
            <a href="#" class="icon"
              ><i class="fa-brands fa-linkedin-in"></i
            ></a> -->
          </div>
          <span class="form-subtitle" data-i18n="formSubtitle"
            >Entre com seu nome, e-mail e senha</span
          >
          <input
            id="mentorName"
            type="text"
            name="name"
            placeholder="Nome"
            data-i18n-placeholder="namePlaceholder"
            autocomplete="name"
            required
          />
          <input
            id="mentorEmail"
            type="email"
            name="email"
            placeholder="E-mail"
            data-i18n-placeholder="emailPlaceholder"
            autocomplete="email"
            required
          />
          <input
            id="mentorPassword"
            type="password"
            name="password"
            placeholder="Senha"
            data-i18n-placeholder="passwordPlaceholder"
            autocomplete="current-password"
            required
          />
          <a href="#" data-i18n="forgotPassword">Esqueceu sua senha?</a>
          <button id="mentorSubmitBtn" type="submit" data-i18n="mentorSubmit">
            Cadastrar
          </button>
          <p id="mentorFeedback" class="feedback" aria-live="polite"></p>
        </form>
      </div>
      <div class="form-container sign-in">
        <form id="internForm" autocomplete="on">
          <h1 id="internTitle" data-i18n="internTitle">Bem-vindo, EstagiÃ¡rio!</h1>
          <div class="social-icons">
            <a href="#" class="icon"
              ><i class="fa-brands fa-google-plus-g"></i
            ></a>
            <!-- <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
            <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
            <a href="#" class="icon"
              ><i class="fa-brands fa-linkedin-in"></i
            ></a> -->
          </div>
          <span class="form-subtitle" data-i18n="formSubtitle"
            >Entre com seu nome, e-mail e senha</span
          >
          <input
            id="internName"
            type="text"
            name="name"
            placeholder="Nome"
            data-i18n-placeholder="namePlaceholder"
            autocomplete="name"
            required
          />
          <input
            id="internEmail"
            type="email"
            name="email"
            placeholder="E-mail"
            data-i18n-placeholder="emailPlaceholder"
            autocomplete="email"
            required
          />
          <input
            id="internPassword"
            type="password"
            name="password"
            placeholder="Senha"
            data-i18n-placeholder="passwordPlaceholder"
            autocomplete="current-password"
            required
          />
          <a href="#" data-i18n="forgotPassword">Esqueceu sua senha?</a>
          <button id="internSubmitBtn" type="submit" data-i18n="internSubmit">
            Entrar
          </button>
          <p id="internFeedback" class="feedback" aria-live="polite"></p>
        </form>
      </div>
      <div class="toggle-container">
        <div class="toggle">
          <div class="toggle-panel toggle-left">
            <h1 id="internToggleTitle" data-i18n="internToggleTitle">EstagiÃ¡rio</h1>
            <!-- <p>Entre com seu login de EstagiÃ¡rio</p> -->
            <button class="hidden" id="login" data-i18n="toggleButtonLogin">
              Entrar
            </button>
          </div>
          <div class="toggle-panel toggle-right">
            <h1 id="mentorToggleTitle" data-i18n="mentorToggleTitle">Padrinho</h1>
            <!-- <p>
              Register with your personal details to use all of site features
            </p> -->
            <button
              class="hidden"
              id="register"
              data-i18n="toggleButtonRegister"
            >
              Cadastrar
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ===== AlternÃ¢ncia visual (manter) =====
      const container = document.getElementById("container");
      document.getElementById("register").addEventListener("click", () =>
        container.classList.add("active")
      );
      document.getElementById("login").addEventListener("click", () =>
        container.classList.remove("active")
      );

      // ===== Rotas absolutas =====
      const LOADING_URL = "/loading-page/index.html";

      const MENTOR = {
        name: "Paulo Henrique Vieira",
        email: "paulo.henrique@ascenda.com",
        password: "123456",
        target: "/Ascenda Padrinho att/index.html",
      };

      const INTERN_ALLOWED_EMAILS = new Set([
        "caio.alvarenga@ascenda.com",
        "caio.alvarenga@aperam.com",
      ]);
      const INTERN = {
        name: "Caio Menezes",
        password: "123456",
        target: "/Ascenda Estagiario/index.html",
      };

      const DEFAULT_LANG = "pt";
      const LANGUAGE_KEY = "lang";
      const HTML_LANG_MAP = { pt: "pt-BR", en: "en", es: "es" };

      const translations = {
        pt: {
          documentTitle: "Ascenda | Portal de Login",
          mentorTitle: "Bem-vindo, Padrinho!",
          internTitle: "Bem-vindo, EstagiÃ¡rio!",
          formSubtitle: "Entre com seu nome, e-mail e senha",
          namePlaceholder: "Nome",
          emailPlaceholder: "E-mail",
          passwordPlaceholder: "Senha",
          forgotPassword: "Esqueceu sua senha?",
          mentorSubmit: "ENTRAR",
          internSubmit: "Entrar",
          mentorToggleTitle: "Padrinho",
          internToggleTitle: "EstagiÃ¡rio",
          toggleButtonLogin: "Entrar",
          toggleButtonRegister: "ENTRAR",
          successMessage: "Login realizado com sucesso! Preparando decolagem...",
          errorMessage:
            "Credenciais incorretas. Verifique nome, e-mail e senha.",
        },
        en: {
          documentTitle: "Ascenda | Login Portal",
          mentorTitle: "Welcome, Galactic Mentor!",
          internTitle: "Welcome, Stellar Intern!",
          formSubtitle: "Enter your name, email, and password",
          namePlaceholder: "Name",
          emailPlaceholder: "Email",
          passwordPlaceholder: "Password",
          forgotPassword: "Forgot your password?",
          mentorSubmit: "Sign Up",
          internSubmit: "Sign In",
          mentorToggleTitle: "Mentor",
          internToggleTitle: "Intern",
          toggleButtonLogin: "Sign In",
          toggleButtonRegister: "Sign Up",
          successMessage: "Login successful! Prepping launch...",
          errorMessage:
            "Incorrect credentials. Please check your name, email, and password.",
        },
        es: {
          documentTitle: "Ascenda | Portal de Acceso",
          mentorTitle: "Â¡Bienvenido, Padrino GalÃ¡ctico!",
          internTitle: "Â¡Bienvenido, Becario Estelar!",
          formSubtitle: "Ingresa tu nombre, correo y contraseÃ±a",
          namePlaceholder: "Nombre",
          emailPlaceholder: "Correo",
          passwordPlaceholder: "ContraseÃ±a",
          forgotPassword: "Â¿Olvidaste tu contraseÃ±a?",
          mentorSubmit: "Registrarse",
          internSubmit: "Iniciar sesiÃ³n",
          mentorToggleTitle: "Padrino",
          internToggleTitle: "Becario",
          toggleButtonLogin: "Ingresar",
          toggleButtonRegister: "Registrarse",
          successMessage: "Â¡Inicio de sesiÃ³n exitoso! Preparando el despegue...",
          errorMessage:
            "Credenciales incorrectas. Verifica tu nombre, correo y contraseÃ±a.",
        },
      };

      const languageButtons = Array.from(
        document.querySelectorAll(".lang-button")
      );
      const textElements = document.querySelectorAll("[data-i18n]");
      const placeholderElements = document.querySelectorAll(
        "[data-i18n-placeholder]"
      );
      const feedbackElements = document.querySelectorAll(".feedback");

      let currentLang = loadLanguage();

      languageButtons.forEach((button) => {
        button.addEventListener("click", () => setLanguage(button.dataset.lang));
      });

      function loadLanguage() {
        try {
          const stored = sessionStorage.getItem(LANGUAGE_KEY);
          if (stored && translations[stored]) {
            return stored;
          }
        } catch (error) {
          console.warn("sessionStorage unavailable", error);
        }
        return DEFAULT_LANG;
      }

      function setLanguage(lang, { persist = true } = {}) {
        if (!translations[lang]) {
          return;
        }
        currentLang = lang;
        if (persist) {
          try {
            sessionStorage.setItem(LANGUAGE_KEY, lang);
          } catch (error) {
            console.warn("sessionStorage unavailable", error);
          }
        }
        document.documentElement.lang = HTML_LANG_MAP[lang] || "en";
        updateLanguageButtons();
        applyTranslations();
      }

      function updateLanguageButtons() {
        languageButtons.forEach((button) => {
          const isActive = button.dataset.lang === currentLang;
          button.classList.toggle("active", isActive);
          button.setAttribute("aria-pressed", String(isActive));
        });
      }

      function applyTranslations() {
        const dict = translations[currentLang];
        document.title = dict.documentTitle;
        textElements.forEach((el) => {
          const key = el.dataset.i18n;
          if (key && dict[key]) {
            el.textContent = dict[key];
          }
        });
        placeholderElements.forEach((el) => {
          const key = el.dataset.i18nPlaceholder;
          if (key && dict[key]) {
            el.placeholder = dict[key];
          }
        });
        feedbackElements.forEach((el) => {
          const state = el.dataset.feedbackState;
          if (!state) {
            return;
          }
          const key = state === "success" ? "successMessage" : "errorMessage";
          el.textContent = dict[key];
        });
      }

      setLanguage(currentLang, { persist: false });

      function goThroughLoading(toUrl) {
        try {
          sessionStorage.setItem("nextUrl", toUrl);
        } catch (error) {
          console.warn("sessionStorage unavailable", error);
        }
        window.location.href = LOADING_URL;
      }

      function showFeedback(el, ok = false) {
        const dict = translations[currentLang];
        el.textContent = ok ? dict.successMessage : dict.errorMessage;
        el.dataset.feedbackState = ok ? "success" : "error";
        el.classList.toggle("ok", ok);
        el.classList.toggle("err", !ok);
      }

      // ===== EstagiÃ¡rio (Sign In) =====
      document.getElementById("internForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const fb = document.getElementById("internFeedback");
        const name = document.getElementById("internName").value.trim();
        const email = document
          .getElementById("internEmail")
          .value.trim()
          .toLowerCase();
        const pass = document.getElementById("internPassword").value.trim();

        const valid =
          name === INTERN.name &&
          INTERN_ALLOWED_EMAILS.has(email) &&
          pass === INTERN.password;
        if (valid) {
          try {
            sessionStorage.setItem("role", "intern");
            sessionStorage.setItem(LANGUAGE_KEY, currentLang);
            sessionStorage.setItem("mode", "enter");
          } catch (error) {
            console.warn("sessionStorage unavailable", error);
          }
          showFeedback(fb, true);
          goThroughLoading(INTERN.target);
        } else {
          showFeedback(fb, false);
        }
      });

      // ===== Padrinho (Sign Up) =====
      document.getElementById("mentorForm").addEventListener("submit", (e) => {
        e.preventDefault();
        const fb = document.getElementById("mentorFeedback");
        const name = document.getElementById("mentorName").value.trim();
        const email = document
          .getElementById("mentorEmail")
          .value.trim()
          .toLowerCase();
        const pass = document.getElementById("mentorPassword").value.trim();

        const valid =
          name === MENTOR.name &&
          email === MENTOR.email &&
          pass === MENTOR.password;
        if (valid) {
          try {
            sessionStorage.setItem("role", "mentor");
            sessionStorage.setItem(LANGUAGE_KEY, currentLang);
            sessionStorage.setItem("mode", "enter");
          } catch (error) {
            console.warn("sessionStorage unavailable", error);
          }
          showFeedback(fb, true);
          goThroughLoading(MENTOR.target);
        } else {
          showFeedback(fb, false);
        }
      });
    </script>
  </body>
</html>
